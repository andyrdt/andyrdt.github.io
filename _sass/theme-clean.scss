// =============================================================================
// Theme System - Dual Mode Support
// =============================================================================
// This file defines CSS custom properties for a cohesive theming system
// supporting both warm-light and dark modes. All colors are defined as
// semantic variables for easy maintenance and consistency.
//
// Theme switching is handled via data-theme attribute on document root,
// managed by assets/js/theme-toggle.js

// =============================================================================
// Layout & Typography Variables
// =============================================================================

:root {
  --body-font-size: 19px;
  --body-line-height: 1.65;
  --body-letter-spacing: 0.01rem;
  --spacing-unit: 35px;
  --content-width: 780px;
  --heading-margin-top: 2em;
  --heading-margin-bottom: 1em;
}

// =============================================================================
// Color Themes
// =============================================================================

// Warm Light Theme (Default)
// Solarized Light inspired - warm, high contrast
[data-theme="warm-light"],
:root {
  --bg-primary: #fdf6e3;        // Solarized light base3
  --bg-card: #eee8d5;           // Solarized light base2
  --text-primary: #586e75;      // Solarized base01 (darker)
  --text-secondary: #657b83;    // Solarized base00
  --border-color: #d9cdb3;      // Between base2 and base3
  --border-light: #e9ddc3;      // Lighter variant
  --accent: #b5632d;            // Medium warm orange
  --shadow: rgba(0, 0, 0, 0.04);
}

// Dark Theme
// Solarized Dark inspired
[data-theme="dark"] {
  --bg-primary: #002b36;        // Solarized dark base03
  --bg-card: #073642;           // Solarized dark base02
  --text-primary: #839496;      // Solarized base0
  --text-secondary: #657b83;    // Solarized base00
  --border-color: #0d4552;      // Between base02 and base03
  --border-light: #073642;      // Matches card background
  --accent: #5c9db8;            // Medium teal-blue
  --shadow: rgba(0, 0, 0, 0.2);
}

// =============================================================================
// Base Typography & Layout
// =============================================================================

body {
  font-size: var(--body-font-size) !important;
  line-height: var(--body-line-height) !important;
  letter-spacing: var(--body-letter-spacing) !important;
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
}

a {
  color: var(--accent) !important;
}

h1, h2, h3, h4, h5, h6 {
  color: var(--text-primary) !important;
  margin-top: var(--heading-margin-top) !important;
  margin-bottom: var(--heading-margin-bottom) !important;

  &:first-of-type {
    margin-top: 1em !important;
  }
}

.wrapper {
  max-width: calc(var(--content-width) - (var(--spacing-unit) * 2)) !important;
  padding-right: var(--spacing-unit) !important;
  padding-left: var(--spacing-unit) !important;
}

p, blockquote, pre, ul, ol, dl, figure {
  margin-bottom: calc(var(--spacing-unit) / 2) !important;
}

// =============================================================================
// Content Cards - Papers, Quotes, Albums
// =============================================================================
// Standardized styling for all card-based content with consistent spacing,
// borders, and shadows that adapt to the active theme

.paper-entry, .quote-card, .album {
  background: var(--bg-card) !important;
  border: 1px solid var(--border-color) !important;
  box-shadow: 0 1px 2px var(--shadow) !important;
  border-radius: 2px !important;
  padding: 0.9em 1.2em !important;
  margin-bottom: 0.8em !important;
}

// Quote card specific styling
.quote-card {
  display: flex;
  flex-direction: column;
  position: relative;

  figcaption {
    align-self: flex-end;
    margin-top: 0.8em;
    font-style: italic;
    color: var(--text-secondary) !important;
  }
}

// Paper-specific styling
.paper-title {
  font-size: 17px !important;
  margin-bottom: 0.3em !important;

  a {
    color: var(--accent) !important;
  }
}

.paper-authors,
.paper-venue {
  font-size: 14px !important;
  color: var(--text-secondary) !important;
}

// Album-specific styling
.album-artist,
.album-year,
.section-title,
.personnel-item,
.track-title {
  color: var(--text-secondary) !important;
}

.album-title {
  color: var(--text-primary) !important;
}

// Blockquotes
blockquote {
  border-left-color: var(--accent) !important;
  background: var(--bg-card) !important;
  border: 1px solid var(--border-color) !important;
  padding: 12px 16px !important;
}

// =============================================================================
// Header & Footer
// =============================================================================

.site-header {
  border-bottom: 2px solid var(--border-light) !important;
}

.site-footer {
  border-top: 1px solid var(--border-light) !important;
}

// =============================================================================
// Utility Classes
// =============================================================================

// Hidden link - appears as regular text but is clickable
.hidden-link {
  color: inherit !important;
  text-decoration: none !important;

  &:hover,
  &:visited {
    color: inherit !important;
    text-decoration: none !important;
  }
}

// Image captions with theme-aware colors
.image-caption {
  font-size: 11px !important;
  color: var(--text-secondary) !important;
  text-align: center;
  padding-top: 5px;
}

// =============================================================================
// Theme Toggle Button
// =============================================================================
// Icon-based theme switcher that appears inline with navigation.
// On mobile, it switches to a fixed position in the corner.

.theme-toggle-icon {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  margin-left: 8px;
  color: var(--text-primary);
  opacity: 0.5;
  transition: opacity 0.2s ease;
  display: inline-block;
  vertical-align: baseline;
  line-height: $base-line-height;
  font-size: $base-font-size;

  &:hover {
    text-decoration: none;
    opacity: 1;
  }

  .icon-container {
    display: inline-block;
    width: 1em;
    text-align: center;
    font-family: inherit;
  }

  .icon-sun,
  .icon-moon {
    display: inline-block;
    width: 1em;
    text-align: center;
  }
}

// Mobile: integrate into dropdown menu
@media screen and (max-width: 600px) {
  .theme-toggle-icon {
    display: block;
    width: 100%;
    text-align: left;
    padding: 10px 16px;
    margin: 0;
    opacity: 1;
    border-bottom: 1px solid var(--border-light);

    &:hover {
      background-color: var(--bg-primary);
    }

    &:last-child {
      border-bottom: none;
    }

    .icon-container {
      display: inline;
    }
  }
}
